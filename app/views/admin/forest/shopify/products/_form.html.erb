<%= simple_form_for([:admin, :forest, :shopify, @product]) do |f| %>
  <%= f.error_notification %>
  <div class="row small-gutters">
    <%= render 'admin/shared/edit/sidebar', f: f, record: @product %>
    <div class="col-md-9">
      <div class="card">
        <h1 class="h2 card-header"><%= record_name(@product) %></h1>
        <div class="card-body">
          <div class="form-inputs">
            <div class="row small-gutters">
              <div class="col-md-6">
                <%= render 'admin/form_inputs/slug', f: f %>
                <%= f.input :available_for_sale %>
                <%= f.input :shopify_created_at, as: :datepicker %>
                <%= f.input :description %>
                <%= f.input :description_html %>
                <%= f.input :handle %>
                <%= f.input :shopify_id, label: 'Shopify ID' %>
                <%= f.input :shopify_id_base64, label: 'Shopify ID (base64 encoded)' %>
                <%= f.input :product_type %>
                <%= f.input :shopify_published_at, as: :datepicker %>
                <%= f.input :title %>
                <%= f.button :submit, class: 'btn-success d-md-none' %>
              </div>
              <div class="col-md-6">
                <%= render 'admin/form_inputs/status', f: f, record: @product %>
                <% if @product.media_items.present? %>
                  <label>Images</label>
                  <div class="row small-gutters">
                    <% @product.media_items.each do |media_item| %>
                      <div class="col-6 mb-3">
                        <%= link_to image_tag(media_item.attachment_url(:medium)), media_item.attachment_url, class: 'blank-link', target: '_blank' %>
                      </div>
                    <% end %>
                  </div>
                <% end %>
                <% if @product.collections.present? %>
                  <label>Collections</label>
                  <ul>
                    <% @product.collections.each do |collection| %>
                      <li>
                        <%= link_to collection.title, edit_admin_forest_shopify_collection_path(collection) %>
                      </li>
                    <% end %>
                  </ul>
                <% end %>
              </div>
              <%# TODO: show variants %>
            </div>
          </div>
        </div>
      </div>
      <%# Uncomment the following partial if the record is blockable. Optionally pass the block_layout or block_kinds to the partial. %>
      <%= render 'admin/block_record/block_layout', f: f, block_layout: @block_layout, block_kinds: @block_kinds %>
    </div>
  </div>
<% end %>
